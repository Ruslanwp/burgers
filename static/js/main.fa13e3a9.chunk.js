(this["webpackJsonphot-burgers-site"]=this["webpackJsonphot-burgers-site"]||[]).push([[0],{22:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(23),i=n.n(r),s=n(9),d=(n(22),n(21)),o=n(3),u=n(18),j=n.n(u),l=n(24),b=n(11),O=n(4),h=(n(34),n(27)),m=n(25),p=n(0),x=function(){return Object(p.jsxs)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:[Object(p.jsxs)("div",{className:"navbar-brand",children:[Object(p.jsx)("a",{className:"navbar-item",href:"https://bulma.io",alt:"rrr",children:Object(p.jsx)("img",{src:"https://c0.klipartz.com/pngpicture/739/1004/gratis-png-hamburguesa-hamburguesa-rey-comida-rapida-restaurante-kfc-logotipo-de-hamburguesa-rey.png",height:"80px",width:"80px",alt:"3"})}),Object(p.jsxs)("a",{href:"/",role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",children:[Object(p.jsx)("span",{"aria-hidden":"true"}),Object(p.jsx)("span",{"aria-hidden":"true"}),Object(p.jsx)("span",{"aria-hidden":"true"})]})]}),Object(p.jsx)("div",{id:"navbarBasicExample",className:"navbar-menu",children:Object(p.jsx)("div",{className:"navbar-end",children:Object(p.jsx)("div",{className:"navbar-item",children:Object(p.jsxs)("div",{className:"buttons",children:[Object(p.jsx)(s.b,{to:"/",className:"button is-rounded is-primary",children:Object(p.jsx)("strong",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})}),Object(p.jsx)(s.b,{to:"/addings",className:"button is-primary is-rounded",children:Object(p.jsx)("strong",{children:"\u041c\u0435\u043d\u044e"})}),Object(p.jsxs)(s.b,{to:"/bucket",className:"button is-rounded is-warning",children:[Object(p.jsx)("strong",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(p.jsx)(m.a,{icon:h.a})]})]})})})})]})},g=function(e){var t=e.burger,n=e.onProductAdd;return Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"card-image",children:Object(p.jsx)("figure",{className:"image is-4by3",children:Object(p.jsx)("img",{src:t.url,alt:"Placeholder"})})}),Object(p.jsx)("h3",{children:t.name}),Object(p.jsx)("footer",{className:"card-footer",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:"\u0426\u0435\u043d\u0430: \u043e\u0442 59 \u0433\u0440\u043d"}),Object(p.jsx)("button",{type:"button",className:"button is-rounded is-warning",onClick:function(){return n(t)},children:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})]},t.id)},f=function(e){var t=e.burgers,n=e.onProductAdd;return Object(p.jsx)("div",{className:"main-cards",children:0!==t.length&&t.map((function(e){return Object(p.jsx)(g,{onProductAdd:n,burger:e},e.id)}))})},v=(n(46),n(28)),N=n.n(v),y=function(e){var t=e.selectedProduct,n=e.chooseProduct,a=e.addToping,r=e.removeTopping,i=e.changeOrder,s=Object(c.useMemo)((function(){var e=t.toppings.reduce((function(e,t){return e+t.quantity*t.price}),0);return console.log(e),e}),[t]);return console.log(s),Object(p.jsxs)("div",{className:N()("modal",{"is-active":t.id}),children:[Object(p.jsx)("div",{className:"modal-background"}),Object(p.jsxs)("div",{className:"modal-card",children:[Object(p.jsxs)("header",{className:"modal-card-head",children:[Object(p.jsx)("p",{className:"modal-card-title",children:t.name}),Object(p.jsx)("button",{onClick:function(){return n(null)},className:"delete",type:"button","aria-label":"close"})]}),Object(p.jsxs)("section",{className:"modal-card-body",children:[Object(p.jsx)("img",{className:"image is-128x128",src:t.url,alt:""}),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"ingridients",children:[t.toppings&&t.toppings.map((function(e){return Object(p.jsxs)("div",{className:"ingridient",children:[Object(p.jsx)("span",{className:"ingridient__text",children:e.name}),Object(p.jsx)("span",{children:0===e.quantity?"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e":"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e ".concat(e.quantity)}),Object(p.jsx)("span",{children:"".concat(e.price*e.quantity," \u0433\u0440\u043d")}),Object(p.jsxs)("div",{className:"ingridient__control",children:[Object(p.jsx)("button",{className:"button is-rounded",type:"button",onClick:function(){return r(t,e)},children:"-"}),Object(p.jsx)("img",{className:"image is-96x96",src:e.image,alt:""}),Object(p.jsx)("button",{className:"button is-rounded",type:"button",onClick:function(){return a(t,e)},children:"+"})]})]})})),Object(p.jsxs)("div",{children:[t.toppings.reduce((function(e,t){return e+t.quantity*t.price}),0)," \u0433\u0440\u043d"]})]})})]}),Object(p.jsxs)("footer",{className:"modal-card-foot",children:[Object(p.jsx)("button",{type:"button",className:"button is-success",onClick:function(){i(t),n(null)},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(p.jsx)("button",{type:"button",className:"button",onClick:function(){return n(null)},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]})},q=function(e){var t=e.userOrder,n=e.ingredients,r=e.changeOrder,i=Object(c.useState)(null),s=Object(b.a)(i,2),d=s[0],u=s[1],j=function(e){if(null!==e){var n=t.find((function(t){return t.id===e}));u(n)}else u(null)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"container order-cards",children:t.map((function(e){return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsxs)("div",{className:"card-order-cell",children:[Object(p.jsxs)("div",{className:"card-image",children:[Object(p.jsx)("img",{src:e.url,alt:"Placeholder",width:"180px"}),Object(p.jsx)("div",{children:Object(p.jsx)("strong",{children:e.name})})]}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:"\u0446\u0435\u043d\u0430  ".concat(e.toppings.reduce((function(t,n){return t+n.price*e.quantity}),0))})}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ".concat(e.quantity)})}),Object(p.jsx)("button",{type:"button",className:"button is-rounded is-warning",onClick:function(){return j(e.id)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})},e.id)}))}),null!==d&&Object(p.jsx)(y,{selectedProduct:d,chooseProduct:j,addToping:function(e,t){u(Object(o.a)(Object(o.a)({},e),{},{toppings:e.toppings.map((function(e){return e.id===t.id?Object(o.a)(Object(o.a)({},e),{},{quantity:e.quantity+1}):e}))}))},removeTopping:function(e,t){u(Object(o.a)(Object(o.a)({},e),{},{toppings:e.toppings.map((function(e){return e.id===t.id&&0!==e.quantity?Object(o.a)(Object(o.a)({},e),{},{quantity:e.quantity-1}):e}))}))},changeOrder:r,ingredients:n}),Object(p.jsx)("div",{}),Object(p.jsx)("button",{className:"button is-success",type:"button",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})},k=function(e){return fetch("".concat("http://localhost:8000","/").concat(e,"/")).then((function(e){return e.json()}))},P=function(e){return k(e)},w=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),i=Object(b.a)(r,2),s=i[0],u=i[1],h=Object(c.useState)([]),m=Object(b.a)(h,2),g=m[0],v=m[1],N=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("products");case 2:return t=e.sent,e.next=5,P("ingredients");case 5:n=e.sent,v(n),a(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(n),Object(c.useEffect)((function(){N()}),[]);var y=Object(c.useCallback)((function(e){u((function(t){return 0===g.length&&console.log(!0,"ingredients not exist"),0===t.length?[].concat(Object(d.a)(t),[Object(o.a)(Object(o.a)({},e),{},{quantity:1,toppings:e.ingredients.map((function(e){return g.find((function(t){return t.id===e}))})).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{quantity:1})}))})]):t.some((function(t){return t.id===e.id}))?t.map((function(t){return t.id!==e.id?t:Object(o.a)(Object(o.a)({},e),{},{quantity:t.quantity+1,toppings:e.ingredients.map((function(e){return g.find((function(t){return t.id===e}))})).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{quantity:1})}))})})):[].concat(Object(d.a)(t),[Object(o.a)(Object(o.a)({},e),{},{quantity:1,toppings:e.ingredients.map((function(e){return g.find((function(t){return t.id===e}))})).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{quantity:1})}))})])}))}),[g]);return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(x,{}),Object(p.jsxs)(O.c,{children:[Object(p.jsx)(O.a,{path:"/",exact:!0,children:Object(p.jsx)(f,{burgers:n,onProductAdd:y})}),Object(p.jsx)(O.a,{path:"/addings",children:0!==s.length&&Object(p.jsx)(q,{userOrder:s,ingredients:g,changeOrder:function(e){var t=s.map((function(t){return e.id!==t.id?t:(console.log(e),Object(o.a)(Object(o.a)({},e),e.toppings))}));console.log(t),u(t)}})}),Object(p.jsx)(O.a,{path:"/bucket",children:Object(p.jsx)("div",{children:"hello"})})]})]})};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(s.a,{children:Object(p.jsx)(w,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.fa13e3a9.chunk.js.map