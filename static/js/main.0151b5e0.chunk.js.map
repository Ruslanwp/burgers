{"version":3,"sources":["Navigation/Navigation.tsx","ProductItem/ProductItem.tsx","ProductList/ProductList.tsx","Bucket/Bucket.tsx","EmptyBucket/EmptyBucket.tsx","Modal/Modal.tsx","OrderList/OrderList.tsx","requests.js","App.tsx","index.jsx"],"names":["Navigation","className","role","aria-label","href","src","height","width","alt","aria-expanded","data-target","aria-hidden","id","to","icon","faShoppingCart","ProductItem","product","onProductAdd","initialPrice","toppings","reduce","acc","curVal","price","quantity","url","name","type","onClick","ProductList","React","memo","products","filterType","filterHandler","value","onChange","event","target","length","map","Bucket","userOrder","onDecreaseQuantity","onIncreaseQuantity","onDelete","onReset","EmptyBucket","Modal","selectedProduct","chooseProduct","addToping","removeTopping","onOrderChange","classNames","ingredient","image","every","topping","OrderList","useState","setSelectedProduct","finalPrice","foundedProduct","find","order","Fragment","changedOrder","request","fetch","then","response","json","loadIngredients","App","setProducts","setUserOrder","allIngredients","setIngredients","setFilterType","loadData","a","Promise","all","data","ingredientsFromServer","dataWithIngredients","ingredients","currentToping","toping","push","dish","filteredProducts","useMemo","filter","burger","changeOrder","useCallback","changedProduct","useEffect","addItem","item","prevState","some","decreaseProductQuantity","increaseProductQuantity","deleteProduct","state","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0151b5e0.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { faShoppingCart } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nconst Navigation: React.FC = () => (\n  <nav className=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n    <div className=\"navbar-brand\">\n      <a className=\"navbar-item\" href=\"https://bulma.io\">\n        <img src=\"https://e7.pngegg.com/pngimages/380/965/png-clipart-mcdonald-s-golden-arches-logo-mcdonalds-thumbnail.png\" height=\"80px\" width=\"80px\" alt=\"3\" />\n      </a>\n      <a href=\"/\" role=\"button\" className=\"navbar-burger\" aria-label=\"menu\" aria-expanded=\"false\" data-target=\"navbarBasicExample\">\n        <span aria-hidden=\"true\" />\n        <span aria-hidden=\"true\" />\n        <span aria-hidden=\"true\" />\n      </a>\n    </div>\n    <div id=\"navbarBasicExample\" className=\"navbar-menu\">\n\n      <div className=\"navbar-end\">\n        <div className=\"navbar-item\">\n          <div className=\"buttons\">\n            <Link\n              to=\"/\"\n              className=\"button is-rounded is-primary\"\n            >\n              <strong>Главная страница</strong>\n            </Link>\n            <Link to=\"/addings\" className=\"button is-primary is-rounded\">\n              <strong>Меню</strong>\n            </Link>\n            <Link to=\"/bucket\" className=\"button is-rounded is-warning\">\n              <strong>Корзина</strong>\n              <FontAwesomeIcon icon={faShoppingCart} />\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </nav>\n);\n\nexport default Navigation;\n","/* eslint-disable no-unused-vars */\n/* eslint-disable import/no-unresolved */\nimport React from 'react';\n// eslint-disable-next-line import/extensions\nimport { Product } from '../types';\n\ninterface Props {\n  product: Product,\n  onProductAdd: (item: Product) => void,\n}\n\nconst ProductItem: React.FC<Props> = ({ product, onProductAdd }) => {\n  const initialPrice = product.toppings\n    .reduce((acc, curVal) => acc + (curVal.price * curVal.quantity), 0);\n\n  return (\n    <div key={product.id} className=\"card is-align-content-center has-background-success-light\">\n      <div className=\"card-image\">\n        <figure className=\"image is-4by3\">\n          <img src={product.url} alt=\"Placeholder\" />\n        </figure>\n      </div>\n      <footer className=\"card-footer\">\n        <div>\n          <h3><strong>{product.name}</strong></h3>\n          <p className=\"py-3\">\n            {`Цена: ${initialPrice} грн`}\n          </p>\n          <button\n            type=\"button\"\n            className=\"button is-rounded is-warning\"\n            onClick={() => onProductAdd(product)}\n          >\n            добавить\n          </button>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default ProductItem;\n","/* eslint-disable import/no-unresolved */\n/* eslint-disable import/extensions */\n/* eslint-disable no-unused-vars */\nimport React from 'react';\n// eslint-disable-next-line import/no-unresolved\nimport ProductItem from '../ProductItem/ProductItem';\nimport { Product } from '../types';\n\ntype Select = React.ChangeEvent<HTMLSelectElement>\n\ninterface Props {\n  products: Product[],\n  onProductAdd: (item: Product) => void,\n  filterType: string,\n  filterHandler: (value: string) => void,\n}\n\nconst ProductList: React.FC<Props> = React.memo(({\n  products,\n  onProductAdd,\n  filterType,\n  filterHandler,\n}) => (\n  <>\n    <div className=\"select\">\n      <select\n        id=\"select\"\n        value={filterType}\n        onChange={(event: Select) => filterHandler(event.target.value)}\n      >\n        <option value=\"all\">\n          все\n        </option>\n        <option value=\"dessert\">\n          десерты\n        </option>\n        <option value=\"burger\">\n          бургеры\n        </option>\n        <option value=\"beverage\">\n          напитки\n        </option>\n        <option value=\"salad\">\n          салаты\n        </option>\n      </select>\n    </div>\n    <div className=\"main-cards\">\n      {products.length !== 0 && products.map((product) => (\n        <ProductItem\n          onProductAdd={onProductAdd}\n          product={product}\n          key={product.id}\n        />\n      ))}\n    </div>\n  </>\n));\n\nexport default ProductList;\n","/* eslint-disable no-unused-vars */\n/* eslint-disable import/no-unresolved */\n/* eslint-disable import/extensions */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Bucket.css';\nimport { Product } from '../types';\n\ninterface Props {\n  userOrder: Product[],\n  onDecreaseQuantity: (product: Product) => void,\n  onIncreaseQuantity: (product: Product) => void,\n  onDelete: (product: Product) => void,\n  onReset: (burgers: []) => void,\n}\n\nconst Bucket: React.FC<Props> = ({\n  userOrder,\n  onDecreaseQuantity,\n  onIncreaseQuantity,\n  onDelete,\n  onReset,\n}) => (\n  <>\n    <ul>\n      {userOrder.map((product) => (\n        <li key={product.id} className=\"columns products has-background-light\">\n          <div className=\"column product is-size-4\">{product.name}</div>\n          <div className=\"column product is-size-5\">{`Количество ${product.quantity}`}</div>\n          <div className=\"column product is-size-5\">\n            {`цена ${product.toppings.reduce((acc, curVal) => (acc + (curVal.quantity * curVal.price) * product.quantity), 0)} грн`}\n          </div>\n          <button\n            className=\"button is-rounded\"\n            type=\"button\"\n            onClick={() => {\n              if (product.quantity === 0) {\n                onDelete(product);\n                return;\n              }\n\n              onDecreaseQuantity(product);\n            }}\n          >\n            -\n          </button>\n          <figure className=\"image is-128x128 m-5\">\n            <img className=\"is-rounded\" src={product.url} alt=\"/\" />\n          </figure>\n          <button\n            className=\"button is-rounded\"\n            type=\"button\"\n            onClick={() => onIncreaseQuantity(product)}\n          >\n            +\n          </button>\n        </li>\n      ))}\n    </ul>\n    <Link\n      to=\"/\"\n      className=\"button is-success is-rounded mt-5\"\n      type=\"button\"\n      onClick={() => onReset([])}\n    >\n      Завершить\n    </Link>\n  </>\n);\n\nexport default Bucket;\n","import React from 'react';\n\nconst EmptyBucket: React.FC = () => (\n  <article className=\"message is-dark mt-5\">\n    <div className=\"message-header\">\n      <p>Корзина</p>\n    </div>\n    <div className=\"message-body\">\n      Корзина пуста,\n      {' '}\n      <strong>Добавьте продукт!</strong>\n    </div>\n  </article>\n);\n\nexport default EmptyBucket;\n","/* eslint-disable import/no-unresolved */\n/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport './Modal.css';\nimport classNames from 'classnames';\n// eslint-disable-next-line import/extensions\nimport { Product, Topping } from '../types';\n\ninterface Props {\n  selectedProduct: any,\n  chooseProduct: (product: any) => void,\n  addToping: (product: Product, ingredient: Topping) => void,\n  removeTopping: (product: Product, ingredient: Topping) => void,\n  onOrderChange: (product: Product) => void,\n  onDelete: (product: Product) => void,\n}\n\nconst Modal: React.FC<Props> = (\n  {\n    selectedProduct,\n    chooseProduct,\n    addToping,\n    removeTopping,\n    onOrderChange,\n    onDelete,\n  },\n) => (\n  <div className={classNames('modal', {\n    'is-active': selectedProduct.id,\n  })}\n  >\n    <div className=\"modal-background\" />\n    <div className=\"modal-card\">\n      <header className=\"modal-card-head\">\n        <p className=\"modal-card-title\">{selectedProduct.name}</p>\n        <button\n          onClick={() => chooseProduct(null)}\n          className=\"delete\"\n          type=\"button\"\n          aria-label=\"close\"\n        />\n      </header>\n      <section className=\"modal-card-body\">\n        <img className=\"image is-128x128\" src={selectedProduct.url} alt=\"\" />\n\n        <div>\n          <div className=\"ingridients\">\n            {selectedProduct.toppings && selectedProduct.toppings\n              .map((ingredient: any) => (\n                <div key={ingredient.id} className=\"ingridient\">\n                  <span className=\"ingridient__text\">{ingredient.name}</span>\n                  <span>\n                    {ingredient.quantity === 0 ? 'не выбрано' : `количество ${ingredient.quantity}`}\n                  </span>\n                  <span>\n                    {`${ingredient.price * ingredient.quantity} грн`}\n                  </span>\n                  <div className=\"ingridient__control\">\n                    <button\n                      className=\"button is-rounded\"\n                      type=\"button\"\n                      onClick={() => removeTopping(selectedProduct, ingredient)}\n                    >\n                      -\n                    </button>\n                    <img className=\"image is-96x96\" src={ingredient.image} alt=\"\" />\n                    <button\n                      className=\"button is-rounded\"\n                      type=\"button\"\n                      onClick={() => addToping(selectedProduct, ingredient)}\n                    >\n                      +\n                    </button>\n                  </div>\n                </div>\n              ))}\n            <div className=\"is-size-3\">\n              {selectedProduct.toppings.reduce((acc: number, curVal: Topping) => (\n                acc + (curVal.quantity * curVal.price)\n              ), 0)}\n              {' грн'}\n            </div>\n          </div>\n        </div>\n      </section>\n      <footer className=\"modal-card-foot\">\n        <button\n          type=\"button\"\n          className=\"button is-success\"\n          onClick={() => {\n            if (selectedProduct.toppings.every((topping: Topping) => topping.quantity === 0)) {\n              onDelete(selectedProduct);\n              chooseProduct(null);\n              return;\n            }\n\n            onOrderChange(selectedProduct);\n            chooseProduct(null);\n          }}\n        >\n          Применить\n        </button>\n        <button\n          type=\"button\"\n          className=\"button\"\n          onClick={() => chooseProduct(null)}\n        >\n          Отменить\n        </button>\n      </footer>\n    </div>\n  </div>\n);\n\nexport default Modal;\n","/* eslint-disable import/extensions */\n/* eslint-disable no-unused-vars */\n/* eslint-disable import/no-unresolved */\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Modal from '../Modal/Modal';\n// eslint-disable-next-line import/extensions\nimport { Product, Topping } from '../types';\n\ninterface Props {\n  userOrder: Product[],\n  onOrderChange: (product: Product) => void,\n  onDelete: (product: Product) => void,\n}\n\nconst OrderList: React.FC<Props> = ({ userOrder, onOrderChange, onDelete }) => {\n  const [selectedProduct, setSelectedProduct] = useState(null);\n\n  const finalPrice = userOrder.map((product) => product.toppings.reduce((acc, curVal) => (\n    acc + (curVal.price * curVal.quantity) * product.quantity\n  ), 0)).reduce((acc, curVal) => acc + curVal, 0);\n\n  const chooseProduct = (product: Product | null) => {\n    if (product === null) {\n      setSelectedProduct(null);\n      return;\n    }\n\n    const foundedProduct: any = userOrder.find((order) => order.id === product.id);\n\n    if (foundedProduct) {\n      setSelectedProduct(foundedProduct);\n    }\n  };\n\n  const addToping = (product: any, ingredient: Topping) => {\n    const changedOrder = ({\n      ...product,\n      toppings: product.toppings.map((topping: Topping) => {\n        if (topping.id === ingredient.id) {\n          return ({\n            ...topping,\n            quantity: topping.quantity + 1,\n          });\n        }\n\n        return topping;\n      }),\n    });\n\n    setSelectedProduct(changedOrder);\n  };\n\n  const removeTopping = (product: any, ingredient: Topping) => {\n    setSelectedProduct({\n      ...product,\n      toppings: product.toppings.map((topping: Topping) => {\n        if (topping.id === ingredient.id && topping.quantity !== 0) {\n          return ({\n            ...topping,\n            quantity: topping.quantity - 1,\n          });\n        }\n\n        return topping;\n      }),\n    });\n  };\n\n  return (\n    <>\n      <div className=\"container order-cards\">\n        {userOrder.map((product) => (\n          <React.Fragment key={product.id}>\n            <div className=\"card-order-cell\">\n              <div className=\"card-image\">\n                <img\n                  src={product.url}\n                  alt=\"Placeholder\"\n                  width=\"180px\"\n                />\n                <div>\n                  <strong>{product.name}</strong>\n                </div>\n              </div>\n              <div>\n                <p>\n                  {`цена  ${product.toppings.reduce((acc, curVal) => (\n                    acc + (curVal.price * curVal.quantity) * product.quantity\n                  ), 0)} грн`}\n                </p>\n              </div>\n              <div>\n                <p>{`количество: ${product.quantity}`}</p>\n              </div>\n\n              <button\n                type=\"button\"\n                className=\"button is-rounded is-warning\"\n                onClick={() => chooseProduct(product)}\n              >\n                Изменить\n              </button>\n            </div>\n          </React.Fragment>\n        ))}\n      </div>\n\n      {selectedProduct !== null && (\n        <Modal\n          selectedProduct={selectedProduct}\n          chooseProduct={chooseProduct}\n          addToping={addToping}\n          removeTopping={removeTopping}\n          onOrderChange={onOrderChange}\n          onDelete={onDelete}\n        />\n      )}\n      <div className=\"py-5\">\n        {`Общий счет ${finalPrice} грн`}\n      </div>\n      <Link\n        to=\"/bucket\"\n        className=\"button is-success\"\n        type=\"button\"\n      >\n        Подтвердить\n      </Link>\n    </>\n  );\n};\n\nexport default OrderList;\n","const BASE_URL = 'https://my-cool-projectest-server.herokuapp.com';\n// const BASE_URL = 'http://localhost:8000';\n\nconst request = (url) => fetch(`${BASE_URL}/${url}/`)\n  .then((response) => response.json());\n\nexport const loadProducts = (url) => request(url);\n\nexport const loadIngredients = (url) => request(url);\n","/* eslint-disable import/no-unresolved */\n/* eslint-disable import/extensions */\nimport React, {\n  useCallback,\n  useMemo,\n  useEffect,\n  useState,\n} from 'react';\nimport './App.css';\nimport { Route, Switch } from 'react-router-dom';\nimport 'bulma/css/bulma.css';\nimport Navigation from './Navigation/Navigation';\nimport ProductList from './ProductList/ProductList';\nimport Bucket from './Bucket/Bucket';\nimport EmptyBucket from './EmptyBucket/EmptyBucket';\nimport OrderList from './OrderList/OrderList';\nimport { loadProducts, loadIngredients } from './requests';\nimport { Topping, Product, ToppingPair } from './types';\n\nconst App = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [userOrder, setUserOrder] = useState<Product[]>([]);\n  const [allIngredients, setIngredients] = useState<Topping[]>([]);\n  const [filterType, setFilterType] = useState('all');\n\n  const loadData = async () => {\n    const [data, ingredientsFromServer] = await Promise.all([\n      loadProducts('products'),\n      loadIngredients('ingredients'),\n    ]);\n\n    setIngredients(ingredientsFromServer);\n\n    const dataWithIngredients = data.map((product: Product) => ({\n      ...product,\n      quantity: 1,\n      toppings: product.ingredients\n        .reduce<ToppingPair[]>((acc, id) => {\n          const currentToping = acc.find((toping) => toping.id === id);\n\n          if (currentToping) {\n            currentToping.quantity += 1;\n          } else {\n            acc.push({\n              id,\n              quantity: 1,\n            });\n          }\n\n          return acc;\n        }, [])\n        .map((topping) => ({\n          quantity: topping.quantity,\n          ...ingredientsFromServer.find((dish: Product) => dish.id === topping.id),\n        })),\n    }));\n\n    setProducts(dataWithIngredients);\n  };\n\n  const filteredProducts = useMemo(() => {\n    if (filterType === 'all') {\n      return products;\n    }\n\n    const recievedProducts = products.filter((burger: Product) => burger.type === filterType);\n\n    return recievedProducts;\n  }, [filterType, products]);\n\n  const changeOrder = useCallback((product: Product) => {\n    const changedProduct: Product[] = userOrder.map((dish) => {\n      if (product.id !== dish.id) {\n        return dish;\n      }\n\n      return ({\n        ...product,\n        ...product.toppings,\n      });\n    });\n\n    setUserOrder(changedProduct);\n  }, [userOrder]);\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const addItem = useCallback((item: Product) => {\n    setUserOrder((prevState: Product[]) => {\n      if (prevState.length === 0) {\n        return [...prevState, {\n          ...item,\n          toppings: item.toppings.map((topping) => ({ ...topping })),\n          quantity: 1,\n        }];\n      }\n\n      const isProductExist: boolean = prevState.some((product) => product.id === item.id);\n\n      if (!isProductExist) {\n        return [...prevState, {\n          ...item,\n          toppings: item.toppings.map((topping) => ({ ...topping })),\n          quantity: 1,\n        }];\n      }\n\n      return prevState.map((dish) => {\n        if (dish.id !== item.id) {\n          return dish;\n        }\n\n        const newItem = {\n          ...item,\n          toppings: item.toppings.map((topping) => ({ ...topping })),\n          quantity: dish.quantity + 1,\n        };\n\n        return newItem;\n      });\n    });\n  }, [allIngredients]);\n\n  const decreaseProductQuantity = useCallback((selectedProduct) => {\n    setUserOrder(userOrder.map((product) => {\n      if (selectedProduct.id === product.id) {\n        return {\n          ...product,\n          ...product.toppings,\n          quantity: product.quantity - 1,\n        };\n      }\n\n      return product;\n    }));\n  }, [userOrder]);\n\n  const increaseProductQuantity = useCallback((selectedProduct) => {\n    setUserOrder(userOrder.map((product) => {\n      if (selectedProduct.id === product.id) {\n        return {\n          ...product,\n          ...product.toppings,\n          quantity: product.quantity + 1,\n        };\n      }\n\n      return product;\n    }));\n  }, [userOrder]);\n\n  const deleteProduct = useCallback((selectedProduct: Product) => {\n    setUserOrder((state) => state.filter((product) => product.id !== selectedProduct.id));\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <Navigation />\n      <Switch>\n        <Route path=\"/\" exact>\n          <ProductList\n            filterType={filterType}\n            filterHandler={setFilterType}\n            products={filteredProducts}\n            onProductAdd={addItem}\n          />\n        </Route>\n        <Route path=\"/addings\">\n          {userOrder.length !== 0 && (\n          <OrderList\n            userOrder={userOrder}\n            onOrderChange={changeOrder}\n            onDelete={deleteProduct}\n          />\n          )}\n        </Route>\n        <Route path=\"/bucket\">\n          {userOrder.length === 0 ? (\n            <EmptyBucket />\n          ) : (\n            <Bucket\n              userOrder={userOrder}\n              onDecreaseQuantity={decreaseProductQuantity}\n              onIncreaseQuantity={increaseProductQuantity}\n              onDelete={deleteProduct}\n              onReset={setUserOrder}\n            />\n          )}\n        </Route>\n      </Switch>\n    </div>\n  );\n};\n\nexport default App;\n","/* eslint-disable import/no-unresolved */\n/* eslint-disable import/extensions */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './App.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}