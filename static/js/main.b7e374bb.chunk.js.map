{"version":3,"sources":["Navigation/Navigation.jsx","Burger/Burger.jsx","BurgersList/BurgersList.jsx","Modal/Modal.jsx","OrderList/OrderList.jsx","requests.js","App.jsx","index.jsx"],"names":["Navigation","className","role","aria-label","href","alt","src","height","width","aria-expanded","data-target","aria-hidden","id","to","icon","faShoppingCart","Burger","burger","onProductAdd","url","name","price","type","onClick","BurgersList","burgers","length","map","Modal","selectedProduct","chooseProduct","addToping","removeTopping","classNames","toppings","ingredient","quantity","image","OrderList","userOrder","ingredients","useState","setSelectedProduct","console","log","foundedProduct","find","order","product","Fragment","topping","request","fetch","then","response","json","loadIngredients","App","setBurgers","setUserOrder","allIngredients","setIngredients","loadData","a","data","ingredientsFromServer","useEffect","addItem","useCallback","item","prevState","ingId","some","dish","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b7e374bb.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { faShoppingCart } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nconst Navigation = () => (\n  <nav className=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n    <div className=\"navbar-brand\">\n      <a className=\"navbar-item\" href=\"https://bulma.io\" alt=\"rrr\">\n        <img src=\"https://c0.klipartz.com/pngpicture/739/1004/gratis-png-hamburguesa-hamburguesa-rey-comida-rapida-restaurante-kfc-logotipo-de-hamburguesa-rey.png\" height=\"80px\" width=\"80px\" alt=\"3\" />\n      </a>\n\n      <a href=\"/\" role=\"button\" className=\"navbar-burger\" aria-label=\"menu\" aria-expanded=\"false\" data-target=\"navbarBasicExample\">\n        <span aria-hidden=\"true\" />\n        <span aria-hidden=\"true\" />\n        <span aria-hidden=\"true\" />\n      </a>\n    </div>\n    <div id=\"navbarBasicExample\" className=\"navbar-menu\">\n\n      <div className=\"navbar-end\">\n        <div className=\"navbar-item\">\n          <div className=\"buttons\">\n            <Link\n              to=\"/\"\n              className=\"button is-rounded is-primary\"\n            >\n              <strong>Главная страница</strong>\n            </Link>\n            <Link to=\"/addings\" className=\"button is-primary is-rounded\">\n              <strong>Меню</strong>\n            </Link>\n            <Link to=\"/bucket\" className=\"button is-rounded is-warning\">\n              <strong>Корзина</strong>\n              <FontAwesomeIcon icon={faShoppingCart} />\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </nav>\n);\n\nexport default Navigation;\n","import React from 'react';\n\nconst Burger = ({ burger, onProductAdd }) => (\n  <div key={burger.id} className=\"card\">\n    <div className=\"card-image\">\n      <figure className=\"image is-4by3\">\n        <img src={burger.url} alt=\"Placeholder\" />\n      </figure>\n    </div>\n\n    <h3>{burger.name}</h3>\n    <footer className=\"card-footer\">\n      <div>\n        <p>{`Цена: ${burger.price} грн`}</p>\n        <button\n          type=\"button\"\n          className=\"button is-rounded is-warning\"\n          onClick={() => onProductAdd(burger)}\n        >\n          добавить\n        </button>\n      </div>\n    </footer>\n  </div>\n);\n\nexport default Burger;\n","import React from 'react';\nimport Burger from '../Burger/Burger';\n\nconst BurgersList = ({ burgers, onProductAdd }) => (\n  <div className=\"main-cards\">\n    {burgers.length !== 0 && burgers.map((burger) => (\n      <Burger\n        onProductAdd={onProductAdd}\n        burger={burger}\n        key={burger.id}\n      />\n    ))}\n  </div>\n);\n\nexport default BurgersList;\n","import React from 'react';\nimport './Modal.css';\nimport classNames from 'classnames';\n\nconst Modal = (\n  {\n    selectedProduct,\n    chooseProduct,\n    addToping,\n    removeTopping,\n  },\n) => (\n  <div className={classNames('modal', {\n    'is-active': selectedProduct.id,\n  })}\n  >\n    <div className=\"modal-background\" />\n    <div className=\"modal-card\">\n      <header className=\"modal-card-head\">\n        <p className=\"modal-card-title\">{selectedProduct.name}</p>\n        <button\n          onClick={() => chooseProduct(null)}\n          className=\"delete\"\n          type=\"button\"\n          aria-label=\"close\"\n        />\n      </header>\n      <section className=\"modal-card-body\">\n        <img className=\"image is-128x128\" src={selectedProduct.url} alt=\"\" />\n\n        <div>\n          <div className=\"ingridients\">\n            {selectedProduct.toppings && selectedProduct.toppings\n              .map((ingredient) => (\n                <div className=\"ingridient\">\n                  <span className=\"ingridient__text\">{ingredient.name}</span>\n                  <span>\n                    {ingredient.quantity === 0 ? 'не выбрано' : `количество ${ingredient.quantity}`}\n                  </span>\n                  <div className=\"ingridient__control\">\n                    <button\n                      className=\"button is-rounded\"\n                      type=\"button\"\n                      onClick={() => removeTopping(selectedProduct, ingredient)}\n                    >\n                      -\n                    </button>\n                    <img className=\"image is-96x96\" src={ingredient.image} alt=\"\" />\n                    <button\n                      className=\"button is-rounded\"\n                      type=\"button\"\n                      onClick={() => addToping(selectedProduct, ingredient)}\n                    >\n                      +\n                    </button>\n                  </div>\n                </div>\n              ))}\n          </div>\n        </div>\n      </section>\n      <footer className=\"modal-card-foot\">\n        <button type=\"button\" className=\"button is-success\">Save changes</button>\n        <button\n          type=\"button\"\n          className=\"button\"\n          onClick={() => chooseProduct(null)}\n        >\n          Cancel\n        </button>\n      </footer>\n    </div>\n  </div>\n);\n\nexport default Modal;\n","import React, { useState } from 'react';\nimport Modal from '../Modal/Modal';\n// import loadBurgers from '../requests';\n\nconst OrderList = ({ userOrder, ingredients }) => {\n  const [selectedProduct, setSelectedProduct] = useState(null);\n\n  console.log(userOrder);\n  console.log(ingredients);\n\n  const chooseProduct = (id) => {\n    if (id === null) {\n      setSelectedProduct(null);\n      return;\n    }\n\n    const foundedProduct = userOrder.find((order) => order.id === id);\n\n    setSelectedProduct(foundedProduct);\n  };\n\n  const addToping = (product, ingredient) => {\n    setSelectedProduct({\n      ...product,\n      toppings: product.toppings.map((topping) => {\n        if (topping.id === ingredient.id) {\n          return ({\n            ...topping,\n            quantity: topping.quantity + 1,\n          });\n        }\n\n        return topping;\n      }),\n    });\n  };\n\n  const removeTopping = (product, ingredient) => {\n    setSelectedProduct({\n      ...product,\n      toppings: product.toppings.map((topping) => {\n        if (topping.id === ingredient.id && topping.quantity !== 0) {\n          return ({\n            ...topping,\n            quantity: topping.quantity - 1,\n          });\n        }\n\n        return topping;\n      }),\n    });\n  };\n\n  return (\n    <>\n      <div className=\"container order-cards\">\n        {userOrder.map((product) => (\n          <React.Fragment key={product.id}>\n            <div className=\"card-order-cell\">\n              <div className=\"card-image\">\n                <img\n                  src={product.url}\n                  alt=\"Placeholder\"\n                  width=\"180px\"\n                />\n                <div>\n                  <strong>{product.name}</strong>\n                </div>\n              </div>\n              <div>\n                <p>{`цена  ${product.price * product.quantity}`}</p>\n              </div>\n              <div>\n                <p>{`количество: ${product.quantity}`}</p>\n              </div>\n\n              <button\n                type=\"button\"\n                className=\"button is-rounded is-warning\"\n                onClick={() => chooseProduct(product.id)}\n              >\n                Изменить\n              </button>\n            </div>\n          </React.Fragment>\n        ))}\n      </div>\n\n      {selectedProduct !== null && (\n        <Modal\n          selectedProduct={selectedProduct}\n          chooseProduct={chooseProduct}\n          addToping={addToping}\n          removeTopping={removeTopping}\n          ingredients={ingredients}\n        />\n      )}\n      <div>\n        {/* {`Общий счет ${averagePrice} грн`} */}\n      </div>\n\n      <button className=\"button is-success\" type=\"button\">Подтвердить</button>\n    </>\n  );\n};\n\nexport default OrderList;\n","const BASE_URL = 'https://heroku-api-json.herokuapp.com';\n\nconst request = (url) => fetch(`${BASE_URL}/${url}/`)\n  .then((response) => response.json());\n\nexport const loadBurgers = (url) => request(url);\n\nexport const loadIngredients = (url) => request(url);\n","import React, { useCallback, useEffect, useState } from 'react';\nimport './App.css';\nimport { Route, Switch } from 'react-router-dom';\nimport 'bulma/css/bulma.css';\nimport Navigation from './Navigation/Navigation';\nimport BurgersList from './BurgersList/BurgersList';\nimport OrderList from './OrderList/OrderList';\nimport { loadBurgers, loadIngredients } from './requests';\n\nconst App = () => {\n  const [burgers, setBurgers] = useState([]);\n  const [userOrder, setUserOrder] = useState([]);\n  const [allIngredients, setIngredients] = useState([]);\n\n  const loadData = async () => {\n    const data = await loadBurgers('products');\n    const ingredientsFromServer = await loadIngredients('ingredients');\n\n    setIngredients(ingredientsFromServer);\n    setBurgers(data);\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const addItem = useCallback((item) => {\n    setUserOrder((prevState) => {\n      if (allIngredients.length === 0) {\n        console.log(true, 'ingredients not exist');\n      }\n\n      if (prevState.length === 0) {\n        return [...prevState, {\n          ...item,\n          quantity: 1,\n          toppings: item.ingredients.map((ingId) => allIngredients\n            .find((product) => product.id === ingId))\n            .map((product) => ({ ...product, quantity: 1 })),\n        }];\n      }\n\n      const isProductExist = prevState.some((product) => product.id === item.id);\n\n      if (!isProductExist) {\n        return [...prevState, {\n          ...item,\n          quantity: 1,\n          toppings: item.ingredients.map((ingId) => allIngredients\n            .find((product) => product.id === ingId))\n            .map((product) => ({ ...product, quantity: 1 })),\n        }];\n      }\n\n      return prevState.map((dish) => {\n        if (dish.id !== item.id) {\n          return dish;\n        }\n\n        const newItem = {\n          ...item,\n          quantity: dish.quantity + 1,\n          toppings: item.ingredients.map((ingId) => allIngredients\n            .find((product) => product.id === ingId))\n            .map((product) => ({ ...product, quantity: 1 })),\n        };\n\n        return newItem;\n      });\n    });\n  }, [allIngredients]);\n\n  return (\n    <div className=\"container\">\n      <Navigation />\n      <Switch>\n        <Route path=\"/\" exact>\n          <BurgersList\n            burgers={burgers}\n            onProductAdd={addItem}\n          />\n        </Route>\n        <Route path=\"/addings\">\n          {userOrder.length !== 0 && (\n          <OrderList\n            userOrder={userOrder}\n            ingredients={allIngredients}\n          />\n          )}\n        </Route>\n        <Route path=\"/bucket\">\n          <div>hello</div>\n        </Route>\n      </Switch>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './App.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}