(this["webpackJsonphot-burgers-site"]=this["webpackJsonphot-burgers-site"]||[]).push([[0],{22:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(23),r=n.n(i),s=n(9),d=(n(22),n(3)),o=n(21),u=n(18),j=n.n(u),l=n(24),b=n(11),O=n(4),h=(n(34),n(27)),m=n(25),x=n(0),p=function(){return Object(x.jsxs)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:[Object(x.jsxs)("div",{className:"navbar-brand",children:[Object(x.jsx)("a",{className:"navbar-item",href:"https://bulma.io",alt:"rrr",children:Object(x.jsx)("img",{src:"https://c0.klipartz.com/pngpicture/739/1004/gratis-png-hamburguesa-hamburguesa-rey-comida-rapida-restaurante-kfc-logotipo-de-hamburguesa-rey.png",height:"80px",width:"80px",alt:"3"})}),Object(x.jsxs)("a",{href:"/",role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",children:[Object(x.jsx)("span",{"aria-hidden":"true"}),Object(x.jsx)("span",{"aria-hidden":"true"}),Object(x.jsx)("span",{"aria-hidden":"true"})]})]}),Object(x.jsx)("div",{id:"navbarBasicExample",className:"navbar-menu",children:Object(x.jsx)("div",{className:"navbar-end",children:Object(x.jsx)("div",{className:"navbar-item",children:Object(x.jsxs)("div",{className:"buttons",children:[Object(x.jsx)(s.b,{to:"/",className:"button is-rounded is-primary",children:Object(x.jsx)("strong",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})}),Object(x.jsx)(s.b,{to:"/addings",className:"button is-primary is-rounded",children:Object(x.jsx)("strong",{children:"\u041c\u0435\u043d\u044e"})}),Object(x.jsxs)(s.b,{to:"/bucket",className:"button is-rounded is-warning",children:[Object(x.jsx)("strong",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(x.jsx)(m.a,{icon:h.a})]})]})})})})]})},g=function(e){var t=e.burger,n=e.onProductAdd;return Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"card-image",children:Object(x.jsx)("figure",{className:"image is-4by3",children:Object(x.jsx)("img",{src:t.url,alt:"Placeholder"})})}),Object(x.jsx)("h3",{children:t.name}),Object(x.jsx)("footer",{className:"card-footer",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"\u0426\u0435\u043d\u0430: ".concat(t.price," \u0433\u0440\u043d")}),Object(x.jsx)("button",{type:"button",className:"button is-rounded is-warning",onClick:function(){return n(t)},children:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})]},t.id)},f=function(e){var t=e.burgers,n=e.onProductAdd;return Object(x.jsx)("div",{className:"main-cards",children:0!==t.length&&t.map((function(e){return Object(x.jsx)(g,{onProductAdd:n,burger:e},e.id)}))})},v=(n(46),n(28)),N=n.n(v),y=function(e){var t=e.selectedProduct,n=e.chooseProduct,c=e.addToping,a=e.removeTopping;return Object(x.jsxs)("div",{className:N()("modal",{"is-active":t.id}),children:[Object(x.jsx)("div",{className:"modal-background"}),Object(x.jsxs)("div",{className:"modal-card",children:[Object(x.jsxs)("header",{className:"modal-card-head",children:[Object(x.jsx)("p",{className:"modal-card-title",children:t.name}),Object(x.jsx)("button",{onClick:function(){return n(null)},className:"delete",type:"button","aria-label":"close"})]}),Object(x.jsxs)("section",{className:"modal-card-body",children:[Object(x.jsx)("img",{className:"image is-128x128",src:t.url,alt:""}),Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"ingridients",children:t.toppings&&t.toppings.map((function(e){return Object(x.jsxs)("div",{className:"ingridient",children:[Object(x.jsx)("span",{className:"ingridient__text",children:e.name}),Object(x.jsx)("span",{children:0===e.quantity?"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e":"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e ".concat(e.quantity)}),Object(x.jsxs)("div",{className:"ingridient__control",children:[Object(x.jsx)("button",{className:"button is-rounded",type:"button",onClick:function(){return a(t,e)},children:"-"}),Object(x.jsx)("img",{className:"image is-96x96",src:e.image,alt:""}),Object(x.jsx)("button",{className:"button is-rounded",type:"button",onClick:function(){return c(t,e)},children:"+"})]})]})}))})})]}),Object(x.jsxs)("footer",{className:"modal-card-foot",children:[Object(x.jsx)("button",{type:"button",className:"button is-success",children:"Save changes"}),Object(x.jsx)("button",{type:"button",className:"button",onClick:function(){return n(null)},children:"Cancel"})]})]})]})},k=function(e){var t=e.userOrder,n=e.ingredients,i=Object(c.useState)(null),r=Object(b.a)(i,2),s=r[0],o=r[1];console.log(t),console.log(n);var u=function(e){if(null!==e){var n=t.find((function(t){return t.id===e}));o(n)}else o(null)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"container order-cards",children:t.map((function(e){return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)("div",{className:"card-order-cell",children:[Object(x.jsxs)("div",{className:"card-image",children:[Object(x.jsx)("img",{src:e.url,alt:"Placeholder",width:"180px"}),Object(x.jsx)("div",{children:Object(x.jsx)("strong",{children:e.name})})]}),Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:"\u0446\u0435\u043d\u0430  ".concat(e.price*e.quantity)})}),Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ".concat(e.quantity)})}),Object(x.jsx)("button",{type:"button",className:"button is-rounded is-warning",onClick:function(){return u(e.id)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})},e.id)}))}),null!==s&&Object(x.jsx)(y,{selectedProduct:s,chooseProduct:u,addToping:function(e,t){o(Object(d.a)(Object(d.a)({},e),{},{toppings:e.toppings.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{quantity:e.quantity+1}):e}))}))},removeTopping:function(e,t){o(Object(d.a)(Object(d.a)({},e),{},{toppings:e.toppings.map((function(e){return e.id===t.id&&0!==e.quantity?Object(d.a)(Object(d.a)({},e),{},{quantity:e.quantity-1}):e}))}))},ingredients:n}),Object(x.jsx)("div",{}),Object(x.jsx)("button",{className:"button is-success",type:"button",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})},q=function(e){return fetch("".concat("https://heroku-api-json.herokuapp.com","/").concat(e,"/")).then((function(e){return e.json()}))},P=function(e){return q(e)},w=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),r=Object(b.a)(i,2),s=r[0],u=r[1],h=Object(c.useState)([]),m=Object(b.a)(h,2),g=m[0],v=m[1],N=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("products");case 2:return t=e.sent,e.next=5,P("ingredients");case 5:n=e.sent,v(n),a(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){N()}),[]);var y=Object(c.useCallback)((function(e){u((function(t){return 0===g.length&&console.log(!0,"ingredients not exist"),0===t.length?[].concat(Object(o.a)(t),[Object(d.a)(Object(d.a)({},e),{},{quantity:1,toppings:e.ingredients.map((function(e){return g.find((function(t){return t.id===e}))})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{quantity:1})}))})]):t.some((function(t){return t.id===e.id}))?t.map((function(t){return t.id!==e.id?t:Object(d.a)(Object(d.a)({},e),{},{quantity:t.quantity+1,toppings:e.ingredients.map((function(e){return g.find((function(t){return t.id===e}))})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{quantity:1})}))})})):[].concat(Object(o.a)(t),[Object(d.a)(Object(d.a)({},e),{},{quantity:1,toppings:e.ingredients.map((function(e){return g.find((function(t){return t.id===e}))})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{quantity:1})}))})])}))}),[g]);return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(p,{}),Object(x.jsxs)(O.c,{children:[Object(x.jsx)(O.a,{path:"/",exact:!0,children:Object(x.jsx)(f,{burgers:n,onProductAdd:y})}),Object(x.jsx)(O.a,{path:"/addings",children:0!==s.length&&Object(x.jsx)(k,{userOrder:s,ingredients:g})}),Object(x.jsx)(O.a,{path:"/bucket",children:Object(x.jsx)("div",{children:"hello"})})]})]})};r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(s.a,{children:Object(x.jsx)(w,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.11f7fbb5.chunk.js.map